{% extends 'base.html' %} {% load static %} {% block content %}
<!-- Main content -->
<section class="parallax">
    <div class="overlay"></div>
    <div class="content">
        <h1>Architectural And Engineering Services Limited</h1>
        <p>
            Architectural and Engineering Services Limited (AESL) is a
            practicing and a multidisciplinary firm that provides comprehensive
            Architectural and Engineering solutions for public and sector
            clients in the construction industry.
        </p>
        <div class="buttons">
            <button class="button button__background">
                <a href="{% url 'practice' %}">Read More</a>
            </button>
            <button class="button">
                <a href="{% url 'practice' %}">Contact Us </a>
            </button>
        </div>
    </div>
</section>

<!-- Info Section -->
<section class="info">
    <div class="info__content">
        <h5>
            Architectural and Engineering Services Limited (AESL) is a
            practicing and a multidisciplinary firm that provides comprehensive
            Architectural and Engineering solutions for public and sector
            clients in the construction industry.
        </h5>
        <h5>
            AESL offers a wide range of services combining the fields of
            Architecture and Engineering to create innovative and sustainable
            designs that are not only visually appealing but also structurally
            sound and efficient.
        </h5>
        <h5>
            AESL operates from its head office in the capital of Ghana-Accra,
            with other offices located in the 16 regions of Ghana.
        </h5>
    </div>
    <div class="info__image">
        <div class="image__content image__background_1">
            <div class="image__overlay"></div>
            <h3 class="font__weight">Architecture & Planning</h3>
            <h3>Architecture</h3>
            <h3>Land Surveying</h3>
            <h3>Quantity Surveying</h3>
            <h3>Valuation</h3>
        </div>
        <div class="image__content image__background_2">
            <div class="image__overlay"></div>
            <h3 class="font__weight">Engineering</h3>
            <h3>Civil/Structural</h3>
            <h3>Geotech</h3>
            <h3>Installations</h3>
            <h3>Water</h3>
        </div>
    </div>
</section>

<!-- Trusted Companies Section -->
<section class="trusted__companies">
    <img
        src="{% static 'img/vertered_1.jpg' %}"
        alt="AESL company under"
        class="info__building-image"
    />
    <img
        src="{% static 'img/vertered_2.jpeg' %}"
        alt="AESL company under"
        class="info__building-image"
    />
    <img
        src="{% static 'img/vertered_3.jpeg' %}"
        alt="AESL company under "
        class="info__building-image"
    />
    <img
        src="{% static 'img/vertered_4.jpeg' %}"
        alt="AESL Building"
        class="info__building-image"
    />
    <img
        src="{% static 'img/vertered_5.jpeg' %}"
        alt="AESL company under "
        class="info__building-image"
    />
    <img
        src="{% static 'img/vertered_6.jpeg' %}"
        alt="AESL company under "
        class="info__building-image"
    />
</section>

<!-- Projects Section -->
<section class="projects">
    <div class="projects__overlay-home"></div>
    <!-- <img src="{% static 'img/project_background.jpg' %}" alt="project background-image"/> -->
    <div class="projects__header">
        <h2>Projects</h2>
        <p>
            Our impressive portfolio of diverse and notable projects is
            characterized by innovative and sustainable design solutions that
            prioritize functionality, aesthetics, and the well-being of
            occupants. Our projects also cuts across all the tribal cultures and
            the socioeconomic sectors of the Ghanaian economy.
        </p>
    </div>
</section>

<section class="projects-categories">
    <div class="container">
        <h2 class="section-title">Our Project Categories</h2>
        <p class="section-subtitle">Explore our diverse portfolio across various sectors</p>

        <div class="categories-grid">
          <a href="{% url 'civic_culture' %}" class="category-card">
                <div class="category-image">
                    <img src="{% static 'img/civic_culture.jpg' %}" alt="Civic and Culture">
                </div>
                <div class="category-overlay">
                    <h3>Civic and Culture</h3>
                </div>
            </a>

            <a href="{% url 'education' %}" class="category-card">
                <div class="category-image">
                    <img src="{% static 'img/education.jpg' %}" alt="Education">
                </div>
                <div class="category-overlay">
                    <h3>Education</h3>
                </div>
            </a>

            <a href="{% url 'health' %}" class="category-card">
                <div class="category-image">
                    <img src="{% static 'img/health.jpg' %}" alt="Health">
                </div>
                <div class="category-overlay">
                    <h3>Health</h3>
                </div>
            </a>

            <a href="{% url 'office_retail' %}" class="category-card">
                <div class="category-image">
                    <img src="{% static 'img/office_and_mixed_use.jpg' %}" alt="Office and Mixed Use">
                </div>
                <div class="category-overlay">
                    <h3>Office and Mixed Use</h3>
                </div>
            </a>


            <a href="{% url 'industrial_infrastructure' %}" class="category-card"> <div class="category-image">
                    <img src="{% static 'img/industrial_and_infrastructure.jpeg' %}" alt="office and mixed use">
                </div>
                <div class="category-overlay">
                    <h3>Industrial and Infrastructure</h3>
                </div>
            </a>

            <a href="{% url 'sport_leisure' %}" class="category-card"> <div class="category-image">
                    <img src="{% static 'img/sports_and_leisure.jpg' %}" alt="office and mixed use">
                </div>
                <div class="category-overlay">
                    <h3>Sports and Leisure</h3>
                </div>
            </a>

            <a href="{% url 'hospitality' %}" class="category-card"> <div class="category-image">
                    <img src="{% static 'img/Proposed Guest House for.jpg' %}" alt="office and mixed use">
                </div>
                <div class="category-overlay">
                    <h3>Hospitality</h3>
                </div>
            </a>

            <a href="{% url 'residential' %}" class="category-card"> <div class="category-image">
                    <img src="{% static 'img/residential.jpg' %}" alt="office and mixed use">
                </div>
                <div class="category-overlay">
                    <h3>Residential</h3>
                </div>
            </a>

        </div>

        <div class="stats-banner">
            <div class="stats-item">
                <span class="stats-number" data-target="150">+</span>
                <span class="stats-label">Projects Completed</span>
            </div>
            <div class="stats-item">
                <span class="stats-number" data-target="100">+</span>
                <span class="stats-label">Happy Clients</span>
            </div>
            <div class="stats-item">
                <span class="stats-number" data-target="50">+</span>
                <span class="stats-label">Years of Excellence</span>
            </div>
        </div>
    </div>
</section>

<!-- More Projects Section -->
<section class="more__projects padding">
    <p>AESL || Projects</p>
    <article class="boxes">
        <div class="box"></div>
        <div class="box"></div>
        <div class="box"></div>
    </article>
</section>


<!-- Projects Section -->
<section class="projects__location">
    <div class="projects__overlay-home"></div>
    <!-- <img src="{% static 'img/project_background.jpg' %}" alt="project background-image"/> -->
    <div class="projects__header">
        <h2>Offces</h2>
        <p>
        Our offices are strategically located in primes, with our head Office in the Accra central and other offices in the 16 regions of Ghana. They reflect our commitment to creating functional and aesthetically pleasing environment for clients and employees.
        </p>
    </div>
</section>

<section>
<div class="container mt-4">
    <h1 class="text-center mb-4">Our Branches Across the Country</h1>
    <p class="text-center text-muted mb-4">Click on markers for branch details.</p>
    
    <!-- Map Container -->
    <div id="branch-map" style="height: 600px; width: 100%; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);"></div>
</div>

<!-- Leaflet CSS & JS (CDN) -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
    // Map data from Django context
    const branches = {{ branches_json|safe }};
    const defaultCenter = {{ default_center|safe }};
    const defaultZoom = {{ default_zoom|safe }};

    // Initialize map
    const map = L.map('branch-map').setView(defaultCenter, defaultZoom);

    // Add OpenStreetMap tiles
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Custom icon for branches (optional - use default pin if not needed)
    const branchIcon = L.icon({
        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-blue.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    });

    // Add markers for each branch
    branches.forEach(branch => {
        const marker = L.marker([branch.latitude, branch.longitude], {icon: branchIcon}).addTo(map);
        
        const popupContent = `
            <div style="min-width: 200px;">
                <h5 style="margin: 0 0 10px;">${branch.name}</h5>
                <p style="margin: 0 0 10px;"><strong>Address:</strong><br>${branch.address}</p>
                ${branch.phone ? `<p style="margin: 0 0 10px;"><strong>Phone:</strong> ${branch.phone}</p>` : ''}
                ${branch.email ? `<p style="margin: 0 0 10px;"><strong>Email:</strong> ${branch.email}</p>` : ''}
                <hr style="margin: 10px 0;">
                <small>View on <a href="https://www.openstreetmap.org/?mlat=${branch.latitude}&mlon=${branch.longitude}#map=18/${branch.latitude}/${branch.longitude}" target="_blank">OpenStreetMap</a></small>
            </div>
        `;
        
        marker.bindPopup(popupContent);
    });

    // Optional: Fit map to show all markers
    if (branches.length > 0) {
        const group = new L.featureGroup(branches.map(b => L.marker([b.latitude, b.longitude])));
        map.fitBounds(group.getBounds().pad(0.1));  // Add 10% padding
    }
</script>

<style>
    /* Optional: Custom map container styling */
    #branch-map {
        border: 1px solid #ddd;
    }
</style>
</section>

<!-- page location Section -->
<section class="page__location">
    <div class="page__flex">
        <img
            src="{% static 'img/aesl_logo.png' %}"
            alt="aesl logo"
            class="info__building-image-large"
        />
        <p>AESL || Homepage</p>
    </div>
    <p>
        Consulting Architects,<br />
        Engineers and Surveyors
    </p>
</section>
{% endblock content %}
