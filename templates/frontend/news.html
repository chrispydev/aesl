{% extends 'base.html' %} {% load static %} {% block content %}

<section class="news__parallax">
  <div class="projects__overlay"></div>
  <div class="news__content">
    <h1>News from AESL</h1>
    <p>Stay updated with the latest news and updates from Architectural and Engineering Services Limited (AESL). Explore
      our recent projects, industry insights, and company announcements to stay informed about our contributions to the
      architectural and engineering landscape.</p>
  </div>
</section>

<section class="news__heading">
  <div>
    <h1>Latest News</h1>
    <div class="horizontal__bar" />
  </div>
</section>

<section class="news__wrapper">
    {% if featured_articles %}
      <div class="featured-articles">
        <h2 class="featured-title">Featured Articles</h2>
        <div class="news-list">
          {% for article in featured_articles %}
            <div class="news-card">
              {% if article.featured_image %}
                <img src="{{ article.featured_image.url }}" alt="{{ article.title }}">
              {% endif %}
              <div class="news-card-content">
                <h2><a href="{{ article.get_absolute_url }}">{{ article.title }}</a></h2>
                <p class="news-excerpt">{{ article.excerpt }}</p>
                <div class="news-meta">
                  <span>{{ article.publish_date|date:"d M Y" }}</span>
                  {% if article.category %}
                    <span>• {{ article.category.name }}</span>
                  {% endif %}
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
      </div>
    {% endif %}

    <div class="news-list">
      {% for article in articles %}
        <div class="news-card">
          {% if article.featured_image %}
            <img src="{{ article.featured_image.url }}" alt="{{ article.title }}">
          {% endif %}
          <div class="news-card-content">
            <h2><a href="{% url 'news_detail' article.pk %}">{{ article.title }}</a></h2>
            <p class="news-excerpt">{{ article.excerpt }}</p>
            <div class="news-meta">
              <span>{{ article.publish_date|date:"d M Y" }}</span>
              {% if article.category %}
                <span>• {{ article.category.name }}</span>
              {% endif %}
            </div>
          </div>
        </div>
      {% empty %}
        <p>No news articles available at the moment.</p>
      {% endfor %}
    </div>

  </div>
</section>



{% endblock content %}
